<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <title>Field Guide — Attack Flow (Full Screen)</title>
  <link rel="stylesheet" href="/assets/css/site.css">
  <link rel="icon" href="/assets/knoxramsey_logo.jpeg" type="image/jpeg">
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="description" content="Full-screen attack flow diagram for Operation Harvest Cloud."/>
  <style>
    :root{--bg:#071014;--panel:#0c151a;--ink:#e8eef5;--muted:#9fb2c7;--accent:#52ffa8;--line:#17313d}
    *{box-sizing:border-box} html,body{margin:0}
    body{background:var(--bg);color:var(--ink);font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;line-height:1.7}
    a{color:var(--accent);text-decoration:none}
    .nav{position:sticky;top:0;z-index:50;background:linear-gradient(180deg,#0e1820,#0a1318);border-bottom:1px solid var(--line)}
    .wrap{max-width:1400px;margin:0 auto;padding:16px 18px}
    .bar{display:flex;gap:14px;align-items:center;justify-content:space-between;flex-wrap:wrap}
    .brand{font-weight:900;letter-spacing:.3px}
    .links{display:flex;gap:14px;flex-wrap:wrap}
    .links a{color:var(--muted);font-weight:700}
    .links a:hover{color:var(--accent)}

    .binder{display:grid;grid-template-columns:280px 1fr;gap:24px;max-width:1400px;margin:0 auto;padding:24px 18px}
    .sidebar{position:sticky;top:80px;height:fit-content;background:var(--panel);border:1px solid var(--line);border-radius:12px;padding:20px;box-shadow:2px 0 12px rgba(0,0,0,0.3)}
    .sidebar h2{margin:0 0 16px 0;font-size:1.1rem;color:var(--accent);border-bottom:2px solid var(--accent);padding-bottom:8px}
    .sidebar nav a{display:block;padding:10px 12px;border-radius:6px;color:var(--muted);font-weight:600;border-left:3px solid transparent}
    .sidebar nav a:hover{background:rgba(82,255,168,0.06);color:var(--accent);border-left-color:var(--accent)}

    .content{min-width:0}
    .figure{background:var(--panel);border:1px solid var(--line);border-radius:12px;margin-bottom:18px;overflow:hidden}
    .figure header{padding:12px 16px;border-bottom:1px solid var(--line);font-weight:700}
    .mermaid{padding:12px}
    .hint{color:var(--muted);font-size:0.85rem;text-align:center;padding:8px 0 12px}
    @media (max-width:900px){.binder{grid-template-columns:1fr;gap:16px}.sidebar{position:relative;top:0}}
  </style>
  <script type="module">
    import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs";
    mermaid.initialize({
      startOnLoad:true,
      theme:"base",
      securityLevel:"loose",
      flowchart:{useMaxWidth:true,htmlLabels:true,curve:"basis",nodeSpacing:50,rankSpacing:70,padding:8},
      themeVariables:{
        background:"#0d171c",
        lineColor:"#52ffa8",
        textColor:"#e8eef5",
        fontSize:"14px",
        fontFamily:"system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif"
      }
    });
  </script>
  <script src="https://cdn.jsdelivr.net/npm/svg-pan-zoom@3.6.1/dist/svg-pan-zoom.min.js"></script>
  <script>
    function enablePanZoom(scope=document){
      scope.querySelectorAll('.mermaid svg').forEach(svg=>{
        if(svg.dataset.pz) return;
        const pz = svgPanZoom(svg,{zoomEnabled:true,fit:true,center:true,minZoom:0.3,maxZoom:16});
        svg.dataset.pz='1';
        svg.style.cursor='grab';
        svg.addEventListener('mousedown',()=>svg.style.cursor='grabbing');
        svg.addEventListener('mouseup',()=>svg.style.cursor='grab');
      });
    }
    const obs=new MutationObserver(()=>enablePanZoom());
    obs.observe(document.documentElement,{childList:true,subtree:true});
    document.addEventListener('DOMContentLoaded',enablePanZoom);
  </script>
</head>
<body>
  <nav class="nav" aria-label="Primary">
    <div class="wrap bar">
      <div class="brand"><img class="brand-logo" src="/assets/knoxramsey_logo.jpeg" alt="Knox Ramsey Thrillers logo" width="112" height="28" loading="lazy" decoding="async"/>Knox Ramsey Thrillers</div>
      <div class="links">
        <a href="/">Home</a>
        <a href="/fieldguide/">Field Guide</a>
        <a href="/darkrecipe/">Dark Recipe</a>
        <a href="/about.html">About</a>
      </div>
    </div>
  </nav>

  <div class="binder">
    <aside class="sidebar">
      <h2>Field Guide</h2>
      <div class="search">
        <input type="search" placeholder="Search..." aria-label="Search Field Guide">
      </div>
      <nav aria-label="Field Guide sections">
        <a href="/fieldguide/">Overview</a>
        <a href="/fieldguide/timeline.html">Geneva Timeline</a>
        <a href="/fieldguide/biology/">Plant Biology</a>
        <a href="/fieldguide/intelligence/">Intelligence</a>
        <a href="/fieldguide/systems/">Systems</a>
        <a href="/fieldguide/systems/dashboard.html">Dashboard</a>
        <a href="/fieldguide/threats/" class="active">Threats</a>
        <a href="/fieldguide/stuxnet/">Stuxnet Case File</a>
        <a href="/fieldguide/dramatis-personae/">Dramatis Personae</a>
        <a href="/fieldguide/locations/">Key Locations</a>
        <a href="/fieldguide/us-structure/">US Inter-Agency</a>
        <a href="/fieldguide/glossary/">Glossary</a>
      </nav>
    </aside>

    <main class="content">
      <h1>Attack Flow — Full Screen</h1>
      <div class="figure">
        <header>Supply Chain → Infiltration → Execution → Impact → Crisis</header>
        <div class="mermaid">
flowchart LR
  subgraph P1[Recon]
    A["Initial Recon<br/>Compromise 1 Vendor"] --> B["Credential Harvest<br/>API / Cert Leakage"]
  end
  subgraph P2[Infiltration]
    C["FarmLytics Infiltration<br/>Model Weight Tampering"] --> D["Recipe Manipulation<br/>Light Spikes · N Stress · Temp Oscillation"]
  end
  subgraph P3[Execution]
    E["FarmCore Executes<br/>Telemetry Trusted"] --> F["Plant Stress<br/>Phenolic Aldehydes ↑"]
  end
  subgraph P4[Impact]
    G["Distribution Chain<br/>Contaminated Flow"]
  end
  subgraph P5[Crisis]
    H["Public Exposure<br/>Poisonings · ER Overload"]
  end
  B --> C
  D --> E
  F --> G
  G --> H
  classDef recon fill:#ffd4a3,stroke:#ff9d4d,stroke-width:2px,color:#1a1a1a
  classDef infiltrate fill:#ffb3b3,stroke:#ff6666,stroke-width:2px,color:#1a1a1a
  classDef execute fill:#d4b3ff,stroke:#9966ff,stroke-width:2px,color:#1a1a1a
  classDef impact fill:#ff9999,stroke:#ff4444,stroke-width:2px,color:#1a1a1a
  classDef crisis fill:#ff6666,stroke:#cc0000,stroke-width:3px,color:#fff
  class A,B,P1 recon
  class C,D,P2 infiltrate
  class E,F,P3 execute
  class G,P4 impact
  class H,P5 crisis
        </div>
        <div class="hint">Tip: Scroll to zoom · Drag to pan</div>
      </div>
    </main>
  </div>
  <script src="/assets/js/fieldguide.js"></script>
</body>
</html>
