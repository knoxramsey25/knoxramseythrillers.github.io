<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Knox Ramsey Field Guide — Plates</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="canonical" href="https://knoxramseythrillers.com/fieldguide.html" />
  <meta name="description" content="Companion plates for the Knox Ramsey Field Guide. High-resolution diagrams with zoom and downloads." />
  <style>
    /* ===== Site chrome (keep brand) ===== */
    :root{
      --bg:#071014; --panel:#0c151a; --ink:#e8eef5;
      --muted:#9fb2c7; --accent:#52ffa8; --rule:#16343f;
      --paper:#fffdf7; --paper-ink:#222; --paper-muted:#5a5a5a;
      --max:1200px; --narrow:880px; --diagram-font:17px;
    }
    html,body{margin:0}
    body{background:var(--bg); color:var(--ink); font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
    a{color:var(--accent); text-decoration:none}
    a:hover{opacity:.9}
    .nav{position:sticky; top:0; z-index:50; background:linear-gradient(180deg,#0e1820,#0a1318); border-bottom:1px solid var(--rule)}
    .wrap{max-width:var(--max); margin:0 auto; padding:14px 18px; display:flex; gap:14px; align-items:center; justify-content:space-between; flex-wrap:wrap}
    .brand{font-weight:900; letter-spacing:.2px; display:flex; gap:8px; align-items:center}
    .brand::before{content:''; width:3px; height:18px; background:var(--accent); border-radius:2px}
    .links{display:flex; gap:12px; flex-wrap:wrap}
    .links a{color:var(--muted); font-weight:700; font-size:.9rem}
    .links a.active{color:var(--accent)}
    /* ===== Paper content area (book-ish) ===== */
  .paper{max-width:1200px;margin:28px auto;padding:28px 18px;background:#0c151a;color:#e8eef5;border:1px solid #16343f;border-radius:10px}
  .page{max-width:880px;margin:0 auto}
  .paper h1{font-family:Georgia,"Times New Roman",serif;font-size:2.05rem;margin:.2em 0 .2em}
  .sub{color:#9fb2c7;margin:0 0 1.2rem}
  .hr{height:1px;background:#1a2730;margin:10px 0 20px}
  .toc{background:#0e1820;border:1px solid #16343f;border-radius:8px;padding:16px 18px;margin:18px 0 22px}
    .toc h3{margin:.1rem 0 .6rem; font-size:1.05rem; font-family:Georgia,"Times New Roman",serif}
    .toc ul{margin:0; padding-left:18px}
    .toc li{margin:.28rem 0}
  .toc a{color:#52ffa8}
    .section{margin:32px 0}
    h2{font-family:Georgia,"Times New Roman",serif; font-size:1.45rem; margin:0 0 .5rem}
  p.lead{color:#cfd9e4}
    /* ===== Figures ===== */
    figure{margin:18px auto}
  .canvas{background:#0f1a20;border:1px solid #16343f;border-radius:10px;padding:16px;overflow-x:auto}
    .canvas .mermaid{display:inline-block;min-width:720px}
    .mermaid svg{width:100% !important;height:auto !important}
    .mermaid-wide svg{min-width:1100px}
  figcaption{font-size:.95rem;color:#cfe3f2;margin:10px 0 0}
  .downloads{text-align:center;margin:.35rem 0 0}
  .downloads a{color:#52ffa8}
  .btn{display:inline-block;margin:8px 6px 0;padding:8px 14px;border:1px solid #52ffa8;color:#52ffa8;background:transparent;border-radius:6px;cursor:pointer;font-weight:600;transition:background 0.2s,color 0.2s}
  .btn:hover{background:rgba(82,255,168,0.1)}
  details.more{background:#0e1820;border:1px dashed #16343f;border-radius:8px;padding:10px 14px;margin:10px 0 0;color:#dbe7f1}
    details.more summary{cursor:pointer; font-weight:600}
    /* ===== Modal for full-screen ===== */
  dialog.svg-modal{width:95vw;height:90vh;border:1px solid #16343f;background:#0a141b;color:#e8eef5;padding:0;border-radius:10px}
  dialog::backdrop{background:rgba(4,12,18,.75)}
  .modal-wrap{width:100%;height:100%;overflow:hidden;padding:18px;background:#071014}
  .modal-wrap svg{width:100% !important;height:100% !important}
  .modal-close{position:absolute;right:16px;top:12px;border:1px solid #52ffa8;background:#0a141b;color:#e8eef5;padding:6px 12px;border-radius:6px;cursor:pointer;font-weight:600}
  .modal-close:hover{background:rgba(82,255,168,0.12)}
    /* ===== Responsive ===== */
    @media (max-width:760px){
      .paper{margin:16px; padding:18px}
      .mermaid{font-size:14px}
    }
  </style>
</head>
<body>
  <!-- Nav (keeps brand) -->
  <nav class="nav" aria-label="Primary">
    <div class="wrap">
      <div class="brand">Knox Ramsey Thrillers</div>
      <div class="links">
        <a href="/">Home</a>
        <a href="/recipe.html">The Recipe</a>
        <a href="/teaser.html">Read Sample</a>
  <a href="/about.html">About</a>
  <a href="/about.html#contact">Contact</a>
      </div>
    </div>
  </nav>

  <!-- Paper content -->
  <div class="paper">
    <div class="page">
      <h1>Knox Ramsey Field Guide — Plates</h1>
      <p class="sub">These web plates complement the printed Field Guide at the back of <em>Dark Recipe</em>. Same figure numbers and captions; added zoom and downloads.</p>
      <div class="hr"></div>

      <nav class="toc" aria-label="Table of contents">
        <h3>Contents</h3>
        <ul>
          <li><a href="#farmcore">Figure 1 — FarmCore ↔ FarmLytics Architecture</a></li>
          <li><a href="#feedback">Figure 2 — Compromised Feedback Loop</a></li>
          <li><a href="#lightreceptor">Figure 3 — Light → Receptor → Response → Toxin Pathways</a></li>
          <li><a href="#msspla">Figure 4 — MSS / PLA Dual-Seal Structure (FAC-17)</a></li>
        </ul>
      </nav>

      <!-- ===== Figure 1 ===== -->
      <section id="farmcore" class="section">
        <h2>Figure 1 — FarmCore ↔ FarmLytics Architecture</h2>
        <p class="lead">Local greenhouse automation (FarmCore) collaborates with the cloud analytics platform (FarmLytics). Telemetry flows through a site gateway; the safety kernel enforces limits at the edge.</p>
        <figure>
          <div class="canvas">
            <div class="mermaid mermaid-wide" data-name="FarmCoreFarmLytics">
flowchart LR
  %% Edge
  subgraph E[Edge - Greenhouse or Grow Room]
    SENS[Sensor Array - Temp RH CO2 PAR PPFD pH EC]
    ACT[Actuators - LED arrays Pumps HVAC Fans]
    SK[FarmCore Safety Kernel - local limits and simulation]
  end
  %% Site
  subgraph SITE[Site Layer]
    GWS[Site Gateway - data buffer and time sync]
    LOG[Immutable Log - signed entries]
  end
  %% Cloud
  subgraph CLOUD[Cloud - FarmLytics]
    ING[Ingestion and Storage]
    ML[Models and Optimization - recipe generator]
    CA[Certificate and Policy Service]
  end
  %% Flows
  SENS --> GWS
  GWS --> ING
  ING --> ML
  ML -->|proposed recipe| GWS
  GWS --> SK
  SK -->|shadow test and verify| ACT
  CA -.->|mutual TLS and certs| GWS
  CA -.->|policy updates| SK
  SK --> LOG
  GWS --> LOG
  ING --> LOG
classDef edge fill:#12313d,stroke:#52ffa8,color:#e8eef5;
classDef site fill:#1a2430,stroke:#52ffa8,color:#e8eef5;
classDef cloud fill:#2b2016,stroke:#ffb35a,color:#e8eef5;

class SENS,ACT,SK edge;
class GWS,LOG site;
class ING,ML,CA cloud;
            </div>
          </div>
          <figcaption>Sensor telemetry, gateway buffering, cloud model generation, and local safety verification.</figcaption>
          <div class="downloads"><a href="/downloads/FarmCoreFarmLytics.svg" download>Download SVG</a></div>
          <button class="btn" data-expand>Expand</button>
          <details class="more"><summary>More detail</summary>
            <p>FarmCore runs at the edge with hard safety limits; FarmLytics proposes recipes from cloud models. Advisory-only is default; closed-loop requires explicit policy. All transactions are signed and logged.</p>
          </details>
        </figure>
      </section>

      <!-- ===== Figure 2 ===== -->
      <section id="feedback" class="section">
        <h2>Figure 2 — Compromised Feedback Loop</h2>
        <p class="lead">How a poisoned model and spoofed trust allow bad recipes to pass local checks and actuate.</p>
        <figure>
          <div class="canvas">
            <div class="mermaid" data-name="CompromisedFeedbackLoop">
flowchart TB
  subgraph CLOUD[FarmLytics Cloud]
    ING[Ingestion]
    ML[Model Train and Serve]
    PKI[Compromised CA - spoofed certs]
  end
  subgraph SITE[Site Gateway]
    GW[Gateway]
    LOG[Immutable Log]
  end
  subgraph EDGE[Edge - FarmCore]
    SK[Safety Kernel v1]
    ACT[Actuators - LEDs and Nutrients]
    SENS[Sensors]
  end
  SENS --> GW
  GW --> ING
  ING --> ML
  ML -->|poisoned recipe| GW
  PKI -.->|false trust| GW
  GW --> SK
  SK -->|shadow test passed - spoofed| ACT
  ACT -->|environment change| SENS
  SK --> LOG
  GW --> LOG
  ING --> LOG
classDef edge fill:#12313d,stroke:#52ffa8,color:#e8eef5;
classDef site fill:#1a2430,stroke:#52ffa8,color:#e8eef5;
classDef cloud fill:#2b2016,stroke:#ffb35a,color:#e8eef5;

class SENS,SK,ACT edge;
class GW,LOG site;
class ING,ML,PKI cloud;

linkStyle 7 stroke:#ff4b3e,stroke-width:2px
linkStyle 8 stroke-dasharray:3 3,stroke:#ff4b3e
linkStyle 9 stroke:#ff4b3e,stroke-width:2px
linkStyle 10 stroke:#ff4b3e,stroke-width:2px
            </div>
          </div>
          <figcaption>Exploit path highlighted in red; log trails persist at edge, site, and cloud.</figcaption>
          <div class="downloads"><a href="/downloads/CompromisedFeedbackLoop.svg" download>Download SVG</a></div>
          <button class="btn" data-expand>Expand</button>
          <details class="more"><summary>More detail</summary>
            <p>Attackers inject model bias and spoof certificates. Safety Kernel v1’s shadow test accepts the tampered recipe; v2 adds dual-channel verification and simulated stress indices.</p>
          </details>
        </figure>
      </section>

      <!-- ===== Figure 3 ===== -->
      <section id="lightreceptor" class="section">
        <h2>Figure 3 — Light → Receptor → Response → Toxin Pathways</h2>
        <p class="lead">Spectral inputs drive receptor cascades, oxidative signaling, and phototoxic compound buildup.</p>
        <figure>
          <div class="canvas">
            <div class="mermaid mermaid-wide" data-name="LightReceptor">
flowchart LR
  BLU[Blue 430-470 nm]
  RED[Red 640-670 nm]
  FAR[Far-Red 700-750 nm]
  UVA[UV-A/B 320-400 nm]
  CRY[Cryptochromes]
  PHY[Phytochromes]
  PHO[Phototropins]
  UVR[UVR8]
  ROS[ROS burst - oxidative stress]
  PAL[PAL up-regulation - phenylpropanoid pathway]
  TERP[Terpene synthases]
  FUR[Furanocoumarin biosynthesis]
  PHEN[Phenolic aldehydes - increased]
  VOL[Volatile/terpene profile shift]
  PSO[Psoralen build-up - phototoxic]
  LAG[Delayed visible symptoms]
  BLU --> CRY --> PAL --> PHEN
  BLU --> PHO --> ROS
  RED --> PHY --> TERP --> VOL
  FAR --> PHY --> LAG
  UVA --> UVR --> ROS
  UVA --> UVR --> FUR --> PSO
  ROS --> PAL
  ROS --> LAG
classDef bio fill:#24302a,stroke:#6fffb8,color:#e8eef5;
class BLU,RED,FAR,UVA,CRY,PHY,PHO,UVR,ROS,PAL,TERP,FUR,PHEN,VOL,PSO,LAG bio;
            </div>
          </div>
          <figcaption>Blue/red/far-red/UV bands signal via photoreceptors; stress chemistry accumulates before symptoms appear.</figcaption>
          <div class="downloads"><a href="/downloads/LightReceptor.svg" download>Download SVG</a></div>
          <button class="btn" data-expand>Expand</button>
          <details class="more"><summary>More detail</summary>
            <p>Nitrogen limitation amplifies secondary metabolites. Iron/manganese deficits weaken ROS quenching. Phototoxic compounds remain inert until UV activation post-consumption.</p>
          </details>
        </figure>
      </section>

      <!-- ===== Figure 4 ===== -->
      <section id="msspla" class="section">
        <h2>Figure 4 — MSS / PLA Dual-Seal Structure (FAC-17)</h2>
        <p class="lead">Institutional ties from national guidance to the facility level.</p>
        <figure>
          <div class="canvas">
            <div class="mermaid" data-name="MSSPLA">
flowchart TB
  PRC[State Council + Party Guidance]
  subgraph MSS[MSS - Ministry of State Security]
    MSSH[Headquarters]
    CI[Counterintelligence]
    CTF[Cyber and Technical Fronts]
  end
  subgraph PLA[PLA - Peoples Liberation Army]
    JSD[Joint Staff Department]
    SSF[Strategic Support Force]
    U61398[Unit 61398 - SIGINT and Cyber]
  end
  subgraph FAC[FAC-17 - Cyber Intelligence Research Facility 17]
    OP[Operations Cell]
    LAB[Model Exploitation Lab]
    COV[Cover Entities]
  end
  PRC --> MSSH
  PRC --> JSD
  MSSH --> CTF --> FAC
  JSD --> SSF --> U61398 -.-> FAC
  CI -->|tasking| FAC
  U61398 -.->|technical support| FAC
classDef gov fill:#1a2430,stroke:#52ffa8,color:#e8eef5;
classDef pla fill:#2b2016,stroke:#ffb35a,color:#e8eef5;
classDef fac fill:#12313d,stroke:#52ffa8,color:#e8eef5;

class PRC gov; class MSSH,CI,CTF gov;
class JSD,SSF,U61398 pla;
class OP,LAB,COV fac;
            </div>
          </div>
          <figcaption>Dual-track tasking (MSS) and technical support (PLA/SSF). Dashed lines indicate indirect support.</figcaption>
          <div class="downloads"><a href="/downloads/MSSPLA.svg" download>Download SVG</a></div>
          <button class="btn" data-expand>Expand</button>
          <details class="more"><summary>More detail</summary>
            <p>Operational cells at FAC-17 receive tasking via fronts and cover entities. Technical lift (SIGINT/cyber) flows from Unit 61398 through SSF channels.</p>
          </details>
        </figure>
      </section>

      <p style="color:#666; font-size:.95rem; margin-top:14px">For print-size plates or errata updates, check this page periodically. Captions and numbering match the hardcover/paperback Field Guide.</p>
    </div>
  </div>

  <!-- Scripts: Mermaid + pan/zoom -->
  <script type="module">
    import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs";
    mermaid.initialize({
      startOnLoad: true,
      theme: "base",
      securityLevel: "loose",
  flowchart: { useMaxWidth: false, htmlLabels: true, curve: "linear" },
      themeVariables: {
        background: "#0c151a",
        fontFamily: "Georgia, 'Times New Roman', serif",
        fontSize: "17px",
        lineColor: "#52ffa8",
        textColor: "#e8eef5",
        primaryColor: "#12313d",
        primaryBorderColor: "#52ffa8",
        primaryTextColor: "#e8eef5",
        secondaryColor: "#1a2430",
        tertiaryColor: "#2b2016"
      }
    });
  </script>
  <script src="https://cdn.jsdelivr.net/npm/svg-pan-zoom@3.6.1/dist/svg-pan-zoom.min.js"></script>
  <script>
    function applyPanZoom(scope=document){
      scope.querySelectorAll('.mermaid svg').forEach(svg=>{
        if(svg.dataset.pzReady) return;
        const pz = svgPanZoom(svg, {
          zoomEnabled:true, controlIconsEnabled:false, fit:true, center:true,
          minZoom:0.35, maxZoom:16
        });
        svg.dataset.pzReady = '1';
        svg.style.cursor = 'grab';
        svg.addEventListener('mouseenter', ()=> svg.style.cursor='grab');
        svg.addEventListener('mousedown',  ()=> svg.style.cursor='grabbing');
        svg.addEventListener('mouseup',    ()=> svg.style.cursor='grab');
        // Optional: dblclick to open modal (uncomment if you want it)
        // svg.addEventListener('dblclick', ()=> openDiagram(svg));
      });
    }

    function openDiagram(sourceSvg){
      const host = document.getElementById('svgHost');
      host.innerHTML = '';
      host.appendChild(sourceSvg.cloneNode(true));
      const dlg = document.getElementById('svgModal');
      dlg.showModal();
      const clone = host.querySelector('svg');
      if(!clone){
        return;
      }
      clone.removeAttribute('width');
      clone.removeAttribute('height');
      clone.style.width = '100%';
      clone.style.height = '100%';
      svgPanZoom(clone, { zoomEnabled:true, controlIconsEnabled:false, fit:true, center:true, minZoom:0.2, maxZoom:24 });
    }

    function wireExpandButtons(){
      document.querySelectorAll('[data-expand]').forEach(btn=>{
        if(btn.dataset.bound) return;
        btn.addEventListener('click', ()=>{
          const svg = btn.closest('figure')?.querySelector('.mermaid svg');
          if(svg) openDiagram(svg);
        });
        btn.dataset.bound = '1';
      });
    }

    const obs = new MutationObserver(()=>{
      applyPanZoom();
      wireExpandButtons();
    });
    obs.observe(document.body, { childList:true, subtree:true });

    document.addEventListener('DOMContentLoaded', ()=>{
      applyPanZoom();
      wireExpandButtons();
    });
  </script>

  <!-- Fullscreen modal -->
  <dialog class="svg-modal" id="svgModal" aria-label="Expanded diagram">
    <button class="modal-close" onclick="this.parentElement.close()">Close ✕</button>
    <div class="modal-wrap" id="svgHost"></div>
  </dialog>
</body>
</html>